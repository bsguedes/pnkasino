<!-- templates/index.html -->

{% extends "base.html" %}

{% block content %}

{% with messages = get_flashed_messages(with_categories=true) %}
{% if messages %}
    {% for category, message in messages %}
        {% if category == 'error' %}
            <div class="notification is-danger">
               {{ message }}
            </div>
        {% else %}
            <div class="notification is-success">
               {{ message }}
            </div>
        {% endif %}
    {% endfor %}
{% endif %}
{% endwith %}

<h2 class="title">
  Editing Achievement {{ achievement['hero'] }}
</h2>

<br/>
<h2 align="left">Change Description</h2>
<br/>

<form method="POST" action="/achievement/edit/description">
    <table class="table table-striped table-responsive table-bordered is-fullwidth has-text-left">
        <tbody>
        <tr>
            <td>Description<input type="hidden" name="id" value="{{achievement['id']}}"/></td>
            <td>
                <div class="control">
                    <input class="input is-small" name="description" value="{{achievement['description']}}">
                </div>
            </td>
            <td>
                <button class="button is-block is-info is-small is-fullwidth">Change</button>
            </td>
        </tr>
        </tbody>
    </table>
</form>


<br/>
<h2 align="left">Existing Achievements</h2>
<br/>

<table class="table is-narrow table-striped table-responsive table-bordered is-fullwidth has-text-left">
    <thead>
    <tr>
        <th>Earned by</th>
    </tr>
    </thead>
    <tbody>
    {% for item in earners %}
    <tr>
        <td style="color:#363636">{{item}}</td>
    </tr>
    {% endfor %}
    </tbody>
</table>


{% endblock %}